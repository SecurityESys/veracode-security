#
# A couple of useful guides & docs:
#
# - Main Bitrise CLI docs: https://github.com/bitrise-io/bitrise/tree/master/_docs
# - Step Development Guideline: https://github.com/bitrise-io/bitrise/blob/master/_docs/step-development-guideline.md
# - Bitrise.yml format spec: https://github.com/bitrise-io/bitrise/blob/master/_docs/bitrise-yml-format-spec.md
# - Bitrise docs: http://devcenter.bitrise.io/
# - Bitrise CLI guides: http://devcenter.bitrise.io/bitrise-cli/
title: Veracode Security
summary: This step uploads your app to Veracode Security for app security testing.
description: This setp uploads your app to Veracode Security for app security testing.
website: https://github.com/ryanphillipthomas/bitrise-step-veracode-security
source_code_url: https://github.com/ryanphillipthomas/bitrise-step-veracode-security
support_url: https://github.com/ryanphillipthomas/bitrise-step-veracode-security/issues
host_os_tags:
  - osx-10.10
  - ubuntu-16.04
project_type_tags:
  - ios
  - macos
  - android
type_tags:
  - test

is_requires_admin_user: true
is_always_run: false
is_skippable: false

deps:
  brew:
  - name: git
  - name: wget
  apt_get:
  - name: git
  - name: wget

toolkit:
  bash:
    entry_file: step.sh

inputs:
- veracode_api_id: $VERACODE_API_ID
  opts:
    title: "API ID"
    is_sensitive: true
    is_required: true

- veracode_api_secret: $VERACODE_API_SECRET
  opts:
    title: "API Secret"
    is_sensitive: true
    is_required: true

- veracode_app_id: $VERACODE_APP_ID
  opts:
    title: "App ID"
    is_required: true

- file_upload_path: $FILE_UPLOAD_PATH
  opts:
    title: "File Upload Path"
    is_required: true

- auto_scan: "yes"
  opts:
    title: Automatically starts a staic scan after pre-scan is complete.
    value_options:
    - "no"
    - "yes"
